# Retrospective: Epic 16 — Additive Exclude Configuration

**Date:** 2026-02-27
**Facilitator:** Bob (Scrum Master)
**Epic:** Epic 16 — Additive Exclude Configuration
**Status:** Complete (2/2 stories done)

## Team Participants

- Bob (Scrum Master) — Facilitator
- Alice (Product Owner)
- Charlie (Senior Dev / Architect)
- Dana (QA Engineer)
- Elena (Junior Dev)
- Alberto-Codes (Project Lead)

## Epic Summary & Metrics

**Delivery:**

- Stories completed: 2/2 (100%)
- Test suite: 746 → 762 (16 net new tests: 9 unit + 8 integration)
- Files modified: `src/docvet/config.py`, `tests/unit/test_config.py`, `tests/integration/test_discovery.py`, `docs/site/configuration.md`
- Source code changes: Only `config.py` (3 touch points: valid keys, validation, merge)
- Zero changes to `discovery.py` (NFR3 satisfied)
- FRs completed: FR1 through FR7 (7 FRs)
- NFRs satisfied: NFR1 through NFR5 (5 NFRs)
- Review findings: 3 total in Story 16.1 (2 MEDIUM, 1 LOW) — 2 fixed (67% actionable rate)

**Quality:**

- Debug sessions required: 0 (13th consecutive zero-debug epic)
- Blockers encountered: 0
- Technical debt incurred: 0 new items
- Regressions: 0
- Quality gates: 13/13 green (6 gates x 2 stories + mkdocs build in 16.2)

**Agent Models Used:**

- Stories 16.1–16.2: Claude Opus 4.6

## Successes & Strengths

1. **Peer-convention-driven design eliminated ambiguity.** Following ruff/black/flake8's `extend-exclude` merge formula (`final = (user_exclude or defaults) + extend_exclude`) meant zero design debate. Users already know the behavior from other tools.
2. **Clean architectural decision: TOML-only directive.** `extend-exclude` merges into `exclude` at config load time with no new `DocvetConfig` field. Downstream consumers (`discovery.py`) are completely unaware. Zero changes to discovery code (NFR3).
3. **Two-story split provided layered test confidence.** Story 16.1 delivered 9 unit tests for parsing/merge logic. Story 16.2 delivered 8 integration tests proving end-to-end behavior across DIFF, ALL, and STAGED discovery modes. Two layers of verification.
4. **13th consecutive zero-debug epic.** Well-scoped requirements with clear validation patterns and test patterns from dev notes eliminated trial-and-error.
5. **Forward-carry pattern continued.** 16.1's dev notes documented the merge formula, validation pattern, and test patterns. 16.2 referenced them directly and needed zero independent discovery.
6. **Code review on 16.1 caught edge cases.** Multi-value extend-exclude and empty list tests were added from review findings — cheap tests covering real user scenarios.

## Challenges & Growth Areas

1. **Story 16.2 code review section left blank.** This was a conscious decision — the story had zero `src/` changes (test-only + docs-only), so a formal code review was deemed unnecessary. The story delivered correctly with all gates passing. No process change needed; subsequent epics (17-22) have been conducting reviews normally.

## Key Insights & Learnings

1. **Peer research as design specification.** When an established convention exists across multiple tools, adopting it wholesale removes ambiguity and user learning curve. The ruff/black/flake8 pattern was the entire design doc.
2. **TOML-only directives keep dataclasses clean.** Config-level merge directives that resolve at load time avoid polluting the core data model with transport-layer concerns.
3. **Well-scoped single-feature epics execute in a single day.** Clear FR/NFR specs, two-story split, and established code patterns make small epics predictably fast.
4. **Config epics need minimal stories.** Parser + integration/docs is sufficient when the feature is purely config-level with no new runtime behavior.

## Previous Retro Follow-Through

**Epic 15 Action Items:**

| # | Action | Status | Evidence |
|---|--------|--------|----------|
| 1 | Add retro action item surfacing to create-story workflow | ✅ Completed | `create-story/instructions.xml` step 1b loads most recent retro and surfaces outstanding items when creating Story X.1 |
| 2 | Codify "done = all ACs verified" in sprint-status definitions | ✅ Completed | Sprint-status STATUS DEFINITIONS: `done: Story completed (ALL ACs verified, including maintainer-dependent steps)` |

**Score: 2/2 completed**

**Trend: 4/4 → 2/4 → 1/4 → 3/3 → 3/3 → 3/3 → 3/3 → 4/6 → 7/8 → 2/2 → 0/2 → 0/1 → 2/4 → 2/2**

**Analysis:** 100% follow-through. The long-outstanding retro action item surfacing (carried forward for 4 consecutive retros) was finally resolved. Both items from Epic 15 completed. Clean slate.

## Technical Debt

No new technical debt incurred in Epic 16. No carried items remaining.

## Action Items

None. Epic was clean, no process changes needed.

## Team Agreements

- Peer-convention-driven design continues as standard approach when established patterns exist
- Two-story split (unit parsing → integration/docs) is the standard pattern for config-level features
- Forward-carry pattern between stories continues

## Readiness Assessment

- Testing & Quality: All 762 tests green, all quality gates passing, zero regressions
- Deployment: All changes merged to main, docs site updated
- Stakeholder Acceptance: Confirmed by Alberto-Codes
- Technical Health: Codebase stable, zero debug sessions, zero new tech debt
- Unresolved Blockers: None

**Verdict:** Epic 16 fully complete. Additive Exclude Configuration delivered — developers can use `extend-exclude` to append patterns to defaults following the universal ruff/black/flake8 convention. All work validated through 6 subsequent epics (17-22) with zero regressions.

---

*Retrospective facilitated by Bob (Scrum Master) on 2026-02-27*
